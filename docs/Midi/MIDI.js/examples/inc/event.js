if(void 0===eventjs)var eventjs={};if(function(e){"use strict";e.modifyEventListener=!1,e.modifySelectors=!1,e.add=function(e,t,n,r){return o(e,t,n,r,"add")},e.remove=function(e,t,n,r){return o(e,t,n,r,"remove")},e.returnFalse=function(e){return!1},e.stop=function(e){e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.cancelBubbleCount=0)},e.prevent=function(e){e&&(e.preventDefault?e.preventDefault():e.preventManipulation?e.preventManipulation():e.returnValue=!1)},e.cancel=function(t){e.stop(t),e.prevent(t)},e.blur=function(){var e=document.activeElement;if(e){var t=document.activeElement.nodeName;"INPUT"!==t&&"TEXTAREA"!==t&&"true"!==e.contentEditable||e.blur&&e.blur()}},e.getEventSupport=function(e,t){if("string"==typeof e&&(t=e,e=window),(t="on"+t)in e)return!0;if(e.setAttribute||(e=document.createElement("div")),e.setAttribute&&e.removeAttribute){e.setAttribute(t,"");var n="function"==typeof e[t];return void 0!==e[t]&&(e[t]=null),e.removeAttribute(t),n}};var t,n,r=function(e){if(!e||"object"!=typeof e)return e;var t=new e.constructor;for(var n in e)e[n]&&"object"==typeof e[n]?t[n]=r(e[n]):t[n]=e[n];return t},o=function(t,n,a,u,c,g){if(u=u||{},"[object Object]"===String(t)){var m=t;if(t=m.target,delete m.target,!m.type||!m.listener){for(var j in m){var y=m[j];"function"!=typeof y&&(u[j]=y)}var h={};for(var w in m){j=w.split(",");var x=m[w],P={};for(var b in u)P[b]=u[b];if("function"==typeof x)a=x;else{if("function"!=typeof x.listener)continue;a=x.listener;for(var b in x)"function"!=typeof x[b]&&(P[b]=x[b])}for(var E=0;E<j.length;E++)h[w]=eventjs.add(t,j[E],a,P,c)}return h}for(var w in n=m.type,delete m.type,a=m.listener,delete m.listener,m)u[w]=m[w]}if(t&&n&&a){if("string"==typeof t&&"ready"===n){if(!window.eventjs_stallOnReady){var M=(new Date).getTime(),T=u.timeout,G=u.interval||1e3/60,D=window.setInterval((function(){(new Date).getTime()-M>T&&window.clearInterval(D),document.querySelector(t)&&(window.clearInterval(D),setTimeout(a,1))}),G);return}n="load",t=window}if("string"==typeof t){if(0===(t=document.querySelectorAll(t)).length)return s("Missing target on listener!",arguments);1===t.length&&(t=t[0])}var L,k={};if(t.length>0&&t!==window){for(var X=0,Y=t.length;X<Y;X++)(L=o(t[X],n,a,r(u),c))&&(k[X]=L);return i(k)}if("string"==typeof n&&(-1!==(n=n.toLowerCase()).indexOf(" ")?n=n.split(" "):-1!==n.indexOf(",")&&(n=n.split(","))),"string"!=typeof n){if("number"==typeof n.length)for(var H=0,S=n.length;H<S;H++)(L=o(t,n[H],a,r(u),c))&&(k[n[H]]=L);else for(var w in n)(L="function"==typeof n[w]?o(t,w,n[w],r(u),c):o(t,w,n[w].listener,r(n[w]),c))&&(k[w]=L);return i(k)}if(0===n.indexOf("on")&&(n=n.substr(2)),"object"!=typeof t)return s("Target is not defined!",arguments);if("function"!=typeof a)return s("Listener is not a function!",arguments);var C=u.useCapture||!1,U=f(t)+"."+f(a)+"."+(C?1:0);if(e.Gesture&&e.Gesture._gestureHandlers[n]){if(U=n+U,"remove"===c){if(!d[U])return;d[U].remove(),delete d[U]}else if("add"===c){if(d[U])return d[U].add(),d[U];if(u.useCall&&!e.modifyEventListener){var _=a;a=function(e,n){for(var r in n)e[r]=n[r];return _.call(t,e)}}u.gesture=n,u.target=t,u.listener=a,u.fromOverwrite=g,d[U]=e.proxy[n](u)}return d[U]}var F,O=v(n);for(E=0;E<O.length;E++)if(F=(n=O[E])+"."+U,"remove"===c){if(!d[F])continue;t[p](n,a,C),delete d[F]}else if("add"===c){if(d[F])return d[F];t[l](n,a,C),d[F]={id:F,type:n,target:t,listener:a,remove:function(){for(var n=0;n<O.length;n++)e.remove(t,O[n],a,u)}}}return d[F]}},i=function(e){return{remove:function(){for(var t in e)e[t].remove()},add:function(){for(var t in e)e[t].add()}}},s=function(e,t){"undefined"!=typeof console&&void 0!==console.error&&console.error(e,t)},a={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},u={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2},v=(e.supports={},window.navigator.msPointerEnabled&&(e.supports.msPointer=!0),e.getEventSupport("touchstart")&&(e.supports.touch=!0),e.getEventSupport("mousedown")&&(e.supports.mouse=!0),function(t){var n=document.addEventListener?"":"on",r=u[t];if(isFinite(r)){var o=[];for(var i in e.supports)o.push(n+a[i][r]);return o}return[n+t]}),d={},c=0,f=function(e){return e===window?"#window":e===document?"#document":(e.uniqueID||(e.uniqueID="e"+c++),e.uniqueID)},l=document.addEventListener?"addEventListener":"attachEvent",p=document.removeEventListener?"removeEventListener":"detachEvent";e.createPointerEvent=function(t,n,r){var o=n.gesture,i=n.target,s=t.changedTouches||e.proxy.getCoords(t);if(s.length){var a=s[0];n.pointers=r?[]:s,n.pageX=a.pageX,n.pageY=a.pageY,n.x=n.pageX,n.y=n.pageY}var u=document.createEvent("Event");for(var v in u.initEvent(o,!0,!0),u.originalEvent=t,n)"target"!==v&&(u[v]=n[v]);var d=u.type;e.Gesture&&e.Gesture._gestureHandlers[d]&&n.oldListener.call(i,u,n,!1)},e.modifyEventListener&&window.HTMLElement&&(t=function(t){var n=function(n){var r=n+"EventListener",i=t[r];t[r]=function(t,r,s){if(e.Gesture&&e.Gesture._gestureHandlers[t]){var a=s;"object"==typeof s?a.useCall=!0:a={useCall:!0,useCapture:s},o(this,t,r,a,n,!0)}else for(var u=v(t),d=0;d<u.length;d++)i.call(this,u[d],r,s)}};n("add"),n("remove")},navigator.userAgent.match(/Firefox/)?(t(HTMLDivElement.prototype),t(HTMLCanvasElement.prototype)):t(HTMLElement.prototype),t(document),t(window)),e.modifySelectors&&((n=NodeList.prototype).removeEventListener=function(e,t,n){for(var r=0,o=this.length;r<o;r++)this[r].removeEventListener(e,t,n)},n.addEventListener=function(e,t,n){for(var r=0,o=this.length;r<o;r++)this[r].addEventListener(e,t,n)})}(eventjs),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";e.pointerSetup=function(e,t){e.target=e.target||window,e.doc=e.target.ownerDocument||e.target,e.minFingers=e.minFingers||e.fingers||1,e.maxFingers=e.maxFingers||e.fingers||1/0,e.position=e.position||"relative",delete e.fingers,(t=t||{}).enabled=!0,t.gesture=e.gesture,t.target=e.target,t.env=e.env,eventjs.modifyEventListener&&e.fromOverwrite&&(e.oldListener=e.listener,e.listener=eventjs.createPointerEvent);var n=0,r=0===t.gesture.indexOf("pointer")&&eventjs.modifyEventListener?"pointer":"mouse";return e.oldListener&&(t.oldListener=e.oldListener),t.listener=e.listener,t.proxy=function(n){t.defaultListener=e.listener,e.listener=n,n(e.event,t)},t.add=function(){!0!==t.enabled&&(e.onPointerDown&&eventjs.add(e.target,r+"down",e.onPointerDown),e.onPointerMove&&eventjs.add(e.doc,r+"move",e.onPointerMove),e.onPointerUp&&eventjs.add(e.doc,r+"up",e.onPointerUp),t.enabled=!0)},t.remove=function(){!1!==t.enabled&&(e.onPointerDown&&eventjs.remove(e.target,r+"down",e.onPointerDown),e.onPointerMove&&eventjs.remove(e.doc,r+"move",e.onPointerMove),e.onPointerUp&&eventjs.remove(e.doc,r+"up",e.onPointerUp),t.reset(),t.enabled=!1)},t.pause=function(t){!e.onPointerMove||t&&!t.move||eventjs.remove(e.doc,r+"move",e.onPointerMove),!e.onPointerUp||t&&!t.up||eventjs.remove(e.doc,r+"up",e.onPointerUp),n=e.fingers,e.fingers=0},t.resume=function(t){!e.onPointerMove||t&&!t.move||eventjs.add(e.doc,r+"move",e.onPointerMove),!e.onPointerUp||t&&!t.up||eventjs.add(e.doc,r+"up",e.onPointerUp),e.fingers=n},t.reset=function(){e.tracker={},e.fingers=0},t};var t=eventjs.supports;eventjs.isMouse=!!t.mouse,eventjs.isMSPointer=!!t.touch,eventjs.isTouch=!!t.msPointer,e.pointerStart=function(t,n,r){var o=(t.type||"mousedown").toUpperCase();0===o.indexOf("MOUSE")?(eventjs.isMouse=!0,eventjs.isTouch=!1,eventjs.isMSPointer=!1):0===o.indexOf("TOUCH")?(eventjs.isMouse=!1,eventjs.isTouch=!0,eventjs.isMSPointer=!1):0===o.indexOf("MSPOINTER")&&(eventjs.isMouse=!1,eventjs.isTouch=!1,eventjs.isMSPointer=!0);var i=function(e,t){var n=r.bbox,o=a[t]={};switch(r.position){case"absolute":o.offsetX=0,o.offsetY=0;break;case"differenceFromLast":case"difference":o.offsetX=e.pageX,o.offsetY=e.pageY;break;case"move":o.offsetX=e.pageX-n.x1,o.offsetY=e.pageY-n.y1;break;default:o.offsetX=n.x1-n.scrollLeft,o.offsetY=n.y1-n.scrollTop}var i=e.pageX-o.offsetX,s=e.pageY-o.offsetY;o.rotation=0,o.scale=1,o.startTime=o.moveTime=(new Date).getTime(),o.move={x:i,y:s},o.start={x:i,y:s},r.fingers++};r.event=t,n.defaultListener&&(r.listener=n.defaultListener,delete n.defaultListener);for(var s=!r.fingers,a=r.tracker,u=t.changedTouches||e.getCoords(t),v=u.length,d=0;d<v;d++){var c=u[d],f=c.identifier||1/0;if(r.fingers){if(r.fingers>=r.maxFingers){var l=[];for(var f in r.tracker)l.push(f);return n.identifier=l.join(","),s}for(var p in a){if(a[p].up){delete a[p],i(c,f),r.cancel=!0;break}0}if(a[f])continue;i(c,f)}else a=r.tracker={},n.bbox=r.bbox=e.getBoundingBox(r.target),r.fingers=0,r.cancel=!1,i(c,f)}l=[];for(var f in r.tracker)l.push(f);return n.identifier=l.join(","),s},e.pointerEnd=function(e,t,n,r){for(var o=e.touches||[],i=o.length,s={},a=0;a<i;a++){s[(u=o[a].identifier)||1/0]=!0}for(var u in n.tracker){var v=n.tracker[u];s[u]||v.up||(r&&r({pageX:v.pageX,pageY:v.pageY,changedTouches:[{pageX:v.pageX,pageY:v.pageY,identifier:"Infinity"===u?1/0:u}]},"up"),v.up=!0,n.fingers--)}if(0!==n.fingers)return!1;var d=[];for(var u in n.gestureFingers=0,n.tracker)n.gestureFingers++,d.push(u);return t.identifier=d.join(","),!0},e.getCoords=function(t){return void 0!==t.pageX?e.getCoords=function(e){return Array({type:"mouse",x:e.pageX,y:e.pageY,pageX:e.pageX,pageY:e.pageY,identifier:e.pointerId||1/0})}:e.getCoords=function(e){var t=document.documentElement;return e=e||window.event,Array({type:"mouse",x:e.clientX+t.scrollLeft,y:e.clientY+t.scrollTop,pageX:e.clientX+t.scrollLeft,pageY:e.clientY+t.scrollTop,identifier:1/0})},e.getCoords(t)},e.getCoord=function(t){if("ontouchstart"in window){var n=0,r=0;e.getCoord=function(e){var t=e.changedTouches;return t&&t.length?{x:n=t[0].pageX,y:r=t[0].pageY}:{x:n,y:r}}}else void 0!==t.pageX&&void 0!==t.pageY?e.getCoord=function(e){return{x:e.pageX,y:e.pageY}}:e.getCoord=function(e){var t=document.documentElement;return{x:(e=e||window.event).clientX+t.scrollLeft,y:e.clientY+t.scrollTop}};return e.getCoord(t)};var n,r,o,i=function(e,t){var n=parseFloat(e.getPropertyValue(t),10);return isFinite(n)?n:0};return e.getBoundingBox=function(e){e!==window&&e!==document||(e=document.body);var t={},n=e.getBoundingClientRect();if(t.width=n.width,t.height=n.height,t.x1=n.left,t.y1=n.top,t.scaleX=n.width/e.offsetWidth||1,t.scaleY=n.height/e.offsetHeight||1,t.scrollLeft=0,t.scrollTop=0,!1===("border-box"===(v=window.getComputedStyle(e)).getPropertyValue("box-sizing"))){var r=i(v,"border-left-width"),o=i(v,"border-right-width"),s=i(v,"border-bottom-width"),a=i(v,"border-top-width");t.border=[r,o,a,s],t.x1+=r,t.y1+=a,t.width-=o+r,t.height-=s+a}t.x2=t.x1+t.width,t.y2=t.y1+t.height;for(var u="fixed"===(d=v.getPropertyValue("position"))?e:e.parentNode;null!==u&&u!==document.body&&void 0!==u.scrollTop;){var v,d;if("absolute"===(d=(v=window.getComputedStyle(u)).getPropertyValue("position")));else{if("fixed"===d){t.scrollTop-=u.parentNode.scrollTop,t.scrollLeft-=u.parentNode.scrollLeft;break}t.scrollLeft+=u.scrollLeft,t.scrollTop+=u.scrollTop}u=u.parentNode}return t.scrollBodyLeft=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t.scrollBodyTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,t.scrollLeft-=t.scrollBodyLeft,t.scrollTop-=t.scrollBodyTop,t},r=navigator.userAgent.toLowerCase(),o=-1!==r.indexOf("macintosh"),n=o&&-1!==r.indexOf("khtml")?{91:!0,93:!0}:o&&-1!==r.indexOf("firefox")?{224:!0}:{17:!0},(e.metaTrackerReset=function(){eventjs.fnKey=e.fnKey=!1,eventjs.metaKey=e.metaKey=!1,eventjs.ctrlKey=e.ctrlKey=!1,eventjs.shiftKey=e.shiftKey=!1,eventjs.altKey=e.altKey=!1})(),e.metaTracker=function(t){var r=!!n[t.keyCode];return r&&(eventjs.metaKey=e.metaKey="keydown"===t.type),eventjs.ctrlKey=e.ctrlKey=t.ctrlKey,eventjs.shiftKey=e.shiftKey=t.shiftKey,eventjs.altKey=e.altKey=t.altKey,r},e}(eventjs.proxy),void 0===eventjs)eventjs={};if(eventjs.MutationObserver=function(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t=!e&&function(){var e=document.createElement("p"),t=!1,n=function(){t=!0};if(e.addEventListener)e.addEventListener("DOMAttrModified",n,!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",n)}return e.setAttribute("id","target"),t}();return function(n,r){if(e){new e((function(e){e.forEach((function(e){r.call(e.target,e.attributeName)}))})).observe(n,{subtree:!1,attributes:!0})}else t?eventjs.add(n,"DOMAttrModified",(function(e){r.call(n,e.attrName)})):"onpropertychange"in document.body&&eventjs.add(n,"propertychange",(function(e){r.call(n,window.event.propertyName)}))}}(),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.click=function(t){t.gesture=t.gesture||"click",t.maxFingers=t.maxFingers||t.fingers||1,t.onPointerDown=function(r){e.pointerStart(r,n,t)&&eventjs.add(t.target,"mouseup",t.onPointerUp)},t.onPointerUp=function(r){if(e.pointerEnd(r,n,t)){eventjs.remove(t.target,"mouseup",t.onPointerUp);var o=(r.changedTouches||e.getCoords(r))[0],i=t.bbox,s=e.getBoundingBox(t.target),a=o.pageY-s.scrollBodyTop,u=o.pageX-s.scrollBodyLeft;if(u>i.x1&&a>i.y1&&u<i.x2&&a<i.y2&&i.scrollTop===s.scrollTop){for(var v in t.tracker)break;var d=t.tracker[v];n.x=d.start.x,n.y=d.start.y,t.listener(r,n)}}};var n=e.pointerSetup(t);return n.state="click",eventjs.add(t.target,"mousedown",t.onPointerDown),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.click=e.click,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.dbltap=e.dblclick=function(t){t.gesture=t.gesture||"dbltap",t.maxFingers=t.maxFingers||t.fingers||1;var n,r,o,i,s;t.onPointerDown=function(u){var v=u.changedTouches||e.getCoords(u);n&&!r?(s=v[0],r=(new Date).getTime()-n):(i=v[0],n=(new Date).getTime(),r=0,clearTimeout(o),o=setTimeout((function(){n=0}),700)),e.pointerStart(u,a,t)&&(eventjs.add(t.target,"mousemove",t.onPointerMove).listener(u),eventjs.add(t.target,"mouseup",t.onPointerUp))},t.onPointerMove=function(a){if(n&&!r){var u=a.changedTouches||e.getCoords(a);s=u[0]}var v=t.bbox,d=s.pageX-v.x1,c=s.pageY-v.y1;d>0&&d<v.width&&c>0&&c<v.height&&Math.abs(s.pageX-i.pageX)<=25&&Math.abs(s.pageY-i.pageY)<=25||(eventjs.remove(t.target,"mousemove",t.onPointerMove),clearTimeout(o),n=r=0)},t.onPointerUp=function(i){if(e.pointerEnd(i,a,t)&&(eventjs.remove(t.target,"mousemove",t.onPointerMove),eventjs.remove(t.target,"mouseup",t.onPointerUp)),n&&r){if(r<=700){for(var s in a.state=t.gesture,t.tracker)break;var u=t.tracker[s];a.x=u.start.x,a.y=u.start.y,t.listener(i,a)}clearTimeout(o),n=r=0}};var a=e.pointerSetup(t);return a.state="dblclick",eventjs.add(t.target,"mousedown",t.onPointerDown),a},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.dbltap=e.dbltap,eventjs.Gesture._gestureHandlers.dblclick=e.dblclick,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.dragElement=function(t,n){e.drag({event:n,target:t,position:"move",listener:function(e,n){t.style.left=n.x+"px",t.style.top=n.y+"px",eventjs.prevent(e)}})},e.drag=function(t){t.gesture="drag",t.onPointerDown=function(r){e.pointerStart(r,n,t)&&(t.monitor||(eventjs.add(t.doc,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp))),t.onPointerMove(r,"down")},t.onPointerMove=function(r,o){if(!t.tracker)return t.onPointerDown(r);t.bbox;for(var i=r.changedTouches||e.getCoords(r),s=i.length,a=0;a<s;a++){var u=i[a],v=u.identifier||1/0,d=t.tracker[v];d&&(d.pageX=u.pageX,d.pageY=u.pageY,n.state=o||"move",n.identifier=v,n.start=d.start,n.fingers=t.fingers,"differenceFromLast"===t.position?(n.x=d.pageX-d.offsetX,n.y=d.pageY-d.offsetY,d.offsetX=d.pageX,d.offsetY=d.pageY):(n.x=d.pageX-d.offsetX,n.y=d.pageY-d.offsetY),t.listener(r,n))}},t.onPointerUp=function(r){e.pointerEnd(r,n,t,t.onPointerMove)&&(t.monitor||(eventjs.remove(t.doc,"mousemove",t.onPointerMove),eventjs.remove(t.doc,"mouseup",t.onPointerUp)))};var n=e.pointerSetup(t);return t.event?t.onPointerDown(t.event):(eventjs.add(t.target,"mousedown",t.onPointerDown),t.monitor&&(eventjs.add(t.doc,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp))),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.drag=e.drag,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";var t=Math.PI/180,n=function(e,t){var n=0,r=0,o=0;for(var i in t){var s=t[i];s.up||(n+=s.move.x,r+=s.move.y,o++)}return e.x=n/=o,e.y=r/=o,e};return e.gesture=function(r){r.gesture=r.gesture||"gesture",r.minFingers=r.minFingers||r.fingers||2,r.onPointerDown=function(t){var i=r.fingers;if(e.pointerStart(t,o,r)&&(eventjs.add(r.doc,"mousemove",r.onPointerMove),eventjs.add(r.doc,"mouseup",r.onPointerUp)),r.fingers===r.minFingers&&i!==r.fingers){o.fingers=r.minFingers,o.scale=1,o.rotation=0,o.state="start";var s="";for(var a in r.tracker)s+=a;o.identifier=parseInt(s),n(o,r.tracker),r.listener(t,o)}},r.onPointerMove=function(i,s){for(var a=r.bbox,u=r.tracker,v=(f=i.changedTouches||e.getCoords(i)).length,d=0;d<v;d++){var c=u[g=(m=f[d]).identifier||1/0];c&&(c.move.x=m.pageX-a.x1,c.move.y=m.pageY-a.y1)}if(!(r.fingers<r.minFingers)){var f=[],l=0,p=0;for(var g in n(o,u),u){var m;if(!(m=u[g]).up){var j=m.start;if(!j.distance){var y=j.x-o.x,h=j.y-o.y;j.distance=Math.sqrt(y*y+h*h),j.angle=Math.atan2(y,h)/t}y=m.move.x-o.x,h=m.move.y-o.y;l+=Math.sqrt(y*y+h*h)/j.distance;var w=Math.atan2(y,h)/t,x=(j.angle-w+360)%360-180;m.DEG2=m.DEG1,m.DEG1=x>0?x:-x,void 0!==m.DEG2&&(x>0?m.rotation+=m.DEG1-m.DEG2:m.rotation-=m.DEG1-m.DEG2,p+=m.rotation),f.push(m.move)}}o.touches=f,o.fingers=r.fingers,o.scale=l/r.fingers,o.rotation=p/r.fingers,o.state="change",r.listener(i,o)}},r.onPointerUp=function(t){var n=r.fingers;e.pointerEnd(t,o,r)&&(eventjs.remove(r.doc,"mousemove",r.onPointerMove),eventjs.remove(r.doc,"mouseup",r.onPointerUp)),n===r.minFingers&&r.fingers<r.minFingers&&(o.fingers=r.fingers,o.state="end",r.listener(t,o))};var o=e.pointerSetup(r);return eventjs.add(r.target,"mousedown",r.onPointerDown),o},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.gesture=e.gesture,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.pointerdown=e.pointermove=e.pointerup=function(t){if(t.gesture=t.gesture||"pointer",!t.target.isPointerEmitter){var n=!0;t.onPointerDown=function(e){n=!1,r.gesture="pointerdown",t.listener(e,r)},t.onPointerMove=function(e){r.gesture="pointermove",t.listener(e,r,n)},t.onPointerUp=function(e){n=!0,r.gesture="pointerup",t.listener(e,r,!0)};var r=e.pointerSetup(t);return eventjs.add(t.target,"mousedown",t.onPointerDown),eventjs.add(t.target,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp),t.target.isPointerEmitter=!0,r}},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.pointerdown=e.pointerdown,eventjs.Gesture._gestureHandlers.pointermove=e.pointermove,eventjs.Gesture._gestureHandlers.pointerup=e.pointerup,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.shake=function(e){var t={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:e.target,listener:e.listener,remove:function(){window.removeEventListener("devicemotion",i,!1)}},n=(new Date).getTime(),r={x:0,y:0,z:0},o={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},i=function(i){var s=.8,a=i.accelerationIncludingGravity;if(r.x=s*r.x+(1-s)*a.x,r.y=s*r.y+(1-s)*a.y,r.z=s*r.z+(1-s)*a.z,t.accelerationIncludingGravity=r,t.acceleration.x=a.x-r.x,t.acceleration.y=a.y-r.y,t.acceleration.z=a.z-r.z,"devicemotion"!==e.gesture)for(var u=(new Date).getTime(),v=0,d="xyz".length;v<d;v++){var c="xyz"[v],f=t.acceleration[c],l=o[c],p=Math.abs(f);if(!(u-n<1e3)&&p>4){var g=u*f/p,m=Math.abs(g+l.value);l.value&&m<200?(l.value=g,l.count++,3===l.count&&(e.listener(i,t),n=u,l.value=0,l.count=0)):(l.value=g,l.count=1)}}else e.listener(i,t)};if(window.addEventListener)return window.addEventListener("devicemotion",i,!1),t},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.shake=e.shake,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";var t=Math.PI/180;return e.swipe=function(n){n.snap=n.snap||90,n.threshold=n.threshold||1,n.gesture=n.gesture||"swipe",n.onPointerDown=function(t){e.pointerStart(t,r,n)&&(eventjs.add(n.doc,"mousemove",n.onPointerMove).listener(t),eventjs.add(n.doc,"mouseup",n.onPointerUp))},n.onPointerMove=function(t){for(var r=t.changedTouches||e.getCoords(t),o=r.length,i=0;i<o;i++){var s=r[i],a=s.identifier||1/0,u=n.tracker[a];u&&(u.move.x=s.pageX,u.move.y=s.pageY,u.moveTime=(new Date).getTime())}},n.onPointerUp=function(o){if(e.pointerEnd(o,r,n)){var i,s;eventjs.remove(n.doc,"mousemove",n.onPointerMove),eventjs.remove(n.doc,"mouseup",n.onPointerUp);var a={x:0,y:0},u=0,v=0,d=0;for(var c in n.tracker){var f=n.tracker[c],l=f.move.x-f.start.x,p=f.move.y-f.start.y;u+=f.move.x,v+=f.move.y,a.x+=f.start.x,a.y+=f.start.y,d++;var g=Math.sqrt(l*l+p*p),m=f.moveTime-f.startTime,j=Math.atan2(l,p)/t+180,y=m?g/m:0;if(void 0===s)s=j,i=y;else{if(!(Math.abs(j-s)<=20))return;s=(s+j)/2,i=(i+y)/2}}var h=n.gestureFingers;n.minFingers<=h&&n.maxFingers>=h&&i>n.threshold&&(a.x/=d,a.y/=d,r.start=a,r.x=u/d,r.y=v/d,r.angle=-(((s/n.snap+.5>>0)*n.snap||360)-360),r.velocity=i,r.fingers=h,r.state="swipe",n.listener(o,r))}};var r=e.pointerSetup(n);return eventjs.add(n.target,"mousedown",n.onPointerDown),r},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.swipe=e.swipe,e}(eventjs.proxy),void 0===eventjs)eventjs={};if(void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.longpress=function(t){return t.gesture="longpress",e.tap(t)},e.tap=function(t){var n,r;t.delay=t.delay||500,t.timeout=t.timeout||250,t.driftDeviance=t.driftDeviance||10,t.gesture=t.gesture||"tap",t.onPointerDown=function(i){if(e.pointerStart(i,o,t)){if(n=(new Date).getTime(),eventjs.add(t.doc,"mousemove",t.onPointerMove).listener(i),eventjs.add(t.doc,"mouseup",t.onPointerUp),"longpress"!==t.gesture)return;r=setTimeout((function(){if(!(i.cancelBubble&&++i.cancelBubbleCount>1)){var e=0;for(var n in t.tracker){var r=t.tracker[n];if(!0===r.end)return;if(t.cancel)return;e++}t.minFingers<=e&&t.maxFingers>=e&&(o.state="start",o.fingers=e,o.x=r.start.x,o.y=r.start.y,t.listener(i,o))}}),t.delay)}},t.onPointerMove=function(n){for(var r=t.bbox,o=n.changedTouches||e.getCoords(n),i=o.length,s=0;s<i;s++){var a=o[s],u=a.identifier||1/0,v=t.tracker[u];if(v){var d=a.pageX-r.x1,c=a.pageY-r.y1,f=d-v.start.x,l=c-v.start.y,p=Math.sqrt(f*f+l*l);if(!(d>0&&d<r.width&&c>0&&c<r.height&&p<=t.driftDeviance))return eventjs.remove(t.doc,"mousemove",t.onPointerMove),void(t.cancel=!0)}}},t.onPointerUp=function(i){if(e.pointerEnd(i,o,t)){if(clearTimeout(r),eventjs.remove(t.doc,"mousemove",t.onPointerMove),eventjs.remove(t.doc,"mouseup",t.onPointerUp),i.cancelBubble&&++i.cancelBubbleCount>1)return;if("longpress"===t.gesture)return void("start"===o.state&&(o.state="end",t.listener(i,o)));if(t.cancel)return;if((new Date).getTime()-n>t.timeout)return;var s=t.gestureFingers;t.minFingers<=s&&t.maxFingers>=s&&(o.state="tap",o.fingers=t.gestureFingers,t.listener(i,o))}};var o=e.pointerSetup(t);return eventjs.add(t.target,"mousedown",t.onPointerDown),o},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.tap=e.tap,eventjs.Gesture._gestureHandlers.longpress=e.longpress,e}(eventjs.proxy),void 0===eventjs)eventjs={};void 0===eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.wheelPreventElasticBounce=function(e){e&&("string"==typeof e&&(e=document.querySelector(e)),eventjs.add(e,"wheel",(function(e,t){t.preventElasticBounce(),eventjs.stop(e)})))},e.wheel=function(e){var t,n=e.timeout||150,r=0,o={gesture:"wheel",state:"start",wheelDelta:0,target:e.target,listener:e.listener,preventElasticBounce:function(e){var t=this.target,n=t.scrollTop;(n+t.offsetHeight===t.scrollHeight&&this.wheelDelta<=0||0===n&&this.wheelDelta>=0)&&eventjs.cancel(e),eventjs.stop(e)},add:function(){e.target[s](u,i,!1)},remove:function(){e.target[a](u,i,!1)}},i=function(i){i=i||window.event,o.state=r++?"change":"start",o.wheelDelta=i.detail?-20*i.detail:i.wheelDelta,e.listener(i,o),clearTimeout(t),t=setTimeout((function(){r=0,o.state="end",o.wheelDelta=0,e.listener(i,o)}),n)},s=document.addEventListener?"addEventListener":"attachEvent",a=document.removeEventListener?"removeEventListener":"detachEvent",u=eventjs.getEventSupport("mousewheel")?"mousewheel":"DOMMouseScroll";return e.target[s](u,i,!1),o},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.wheel=e.wheel,e}(eventjs.proxy);var addEvent=eventjs.add,removeEvent=eventjs.remove;!function(){for(var e in eventjs)Event[e]=eventjs[e];for(var e in eventjs.proxy)addEvent[e]=eventjs.proxy[e]}();